
## 四方が10センチメートル以内PCBを使った自作キーボード
<br>
<br>
ElecrowやJLCPCBでは、四方が１０センチメートル以内の大きさのPCBを安価で製造してくれます。
<br>
いざ、その大きさでは、マクロパッドは作れるが、普通のキーボード（ここでは、アルファベット26文字の入力ができるものを普通と考えます）は難しいと思っていました。
<br>
すでに、かぎざら屋さんのMiniAxeと言う素晴らしい36キーの分割キーボードが条件を満たしているが、そのようなものを自分でも作れないかと言うことを条件にして、設計したのが、cool640です。
<br>
後追いなので、pro microのみで動くのであれば、目新しさもないと思いました。そこで、cool836picoで使用実績のある、raspberry pi Picoとpro microの両方で動くものにしようと思う設計しました。
<br>
<blockquote class="twitter-tweet" data-theme="dark"><p lang="ja" dir="ltr">PCBが100mmX100mm内の大きさで、<a href="https://twitter.com/hashtag/%E8%87%AA%E4%BD%9C%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89?src=hash&amp;ref_src=twsrc%5Etfw">#自作キーボード</a> が作れるかなと思い、挑戦しました。先日はPCBが150mmX100mmで <a href="https://twitter.com/hashtag/cool650?src=hash&amp;ref_src=twsrc%5Etfw">#cool650</a> になったので、今回は <a href="https://twitter.com/hashtag/cool640?src=hash&amp;ref_src=twsrc%5Etfw">#cool640</a> として、二つをケーブルで繋ぐと格子配列の分割になります。新しいこととして、<a href="https://twitter.com/hashtag/promicro?src=hash&amp;ref_src=twsrc%5Etfw">#promicro</a> と <a href="https://twitter.com/hashtag/%E3%83%A9%E3%82%BA%E3%83%91%E3%82%A4Pico?src=hash&amp;ref_src=twsrc%5Etfw">#ラズパイPico</a> に対応してみます。 <a href="https://t.co/dft7Hg7RUM">pic.twitter.com/dft7Hg7RUM</a></p>&mdash; m.ki（エム キ） (@0002ozlet) <a href="https://twitter.com/0002ozlet/status/1496460445955280901?ref_src=twsrc%5Etfw">February 23, 2022</a></blockquote>

<br>



イメージ的にMCU部分は、pro microがスイッチ2個分、パイピコが3個分のスペースで置けるだろうし、その間にTRRSジャック一つ分の余裕があれば、何とかなるかなと考えました。そうなると、キー数は横5キーで、縦4キーの格子配列が適当だろうと、徐々に方針がさだまってきました。ちょうど、夜の散歩中に、妄想しながら、方向性を詰めていきました。
<br>
あとは設計です。Keyboard Layout Editerのサイトで、片手分20キーの格子配列を作りました。そして、jsonファイルを書き出して、kicadのプラグインで読み込むと、あっという間に配列されたものができました。ちょっと仕事の休みをもらっていたので、時間があったのですぐに作業に取り掛かることができました。
<br>

その後、それに合わせたアクリルのスイッチプレイヤーとボトムプレート、カバープレートを設計して発注しました。cool640の前に、ALLPCBが15x10㎠以内のPCBを無料キャンペーンをやっていて、その影響でcool650を設計した頃から、今まで使ってこなかった格子配列も、案外いいかもと思うようになってきました。cool640の目標は、私が自作キーボードを作り始めた時に、とても重宝したSU120のように、安価で誰でも好きに発注できる自作キーボードの基板にしたいと思っていました。それゆえ、あまり頒布することがメインでなく、各自がバーデータを発注して、好きにcool640を作ってもらえればいいかなと思っています。それでも発注することのハードルが高いと思う人のため、boothでの頒布もしています。値段の方は、手間賃を含むと、1枚500円になってしまいますね。

cool640を作ったあと、四方10cm以内の条件で、他の配列のキーボードを作ることができないかと自問自答した結果出来上がったのが、cool536です。カラムスタッガードにしたため、リバーシブルの基板となりました。中指で入力する縦列の関係上、パイピコを載せるのが無理とわかりました。その分空いたスペースに何か入れようと思った結果、現在のような、ロータリーエンコーダーが2個または、OLEDディスプレイ、追加基板を使ってPIM447trackballを追加できるような使用となりました。ちょうど、cool536設計のちょっと前に、cool650にロータリーエンコーダーを載せたり、cool640にロータリーエンコーダーを載せたりと、私の中でロータリーエンコーダー祭りが開かれていました。結局、ピン数の関係で、cool640のロータリーエンコーダーは難しいとわかり、諦めました。cool650はロータリーエンコーダーも装着可の基板になりました。
ずっと仕事場でメインで使っているキーボードは、cool943Sという2年前にSU120で最初作って、その後、kicadで設計した40％分割キーボードです。ロウスタッガードから離れられませんでした。そこから、cool650、cool640でオルソスタッガードもいけるかもと思うようになり、遂にcool536でカラムスタッガードになりました。